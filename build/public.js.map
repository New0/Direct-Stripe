{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/@babel/runtime/helpers/typeof.js","webpack:///./src/public.js","webpack:///./src/public/js/ds-click-action.js","webpack:///./src/public/js/ds-element.js","webpack:///./src/public/js/ds-handler.js","webpack:///./src/public/js/ds-register-elements.js","webpack:///./src/public/js/ds-utils.js"],"names":["jQuery","on","e","instance","data","length","console","log","setDonationValue","ds_values","window","ds_script_vars","direct_stripe_script_vars","currency","general_currency","billing","shipping","rememberme","numbers","ds_answer_input","display_amount","type","amount","parseInt","original_amount","zero_decimal","parseFloat","tcState","checkTC","donationInputState","checkDonationInput","returnError","buildElement","ds","modal","open","preventDefault","addEventListener","handler","close","elements","stripe","locale","ce_styles","styles","card_element","card","create","iconStyle","style","base","iconColor","color","fontWeight","fontFamily","fontSize","fontSmoothing","placeholderColor","webkitAutofillColor","invalid","invalidIconColor","invalidColor","mount","registerElements","stripe_checkout","token","additionalData","paymentMethodID","parobj","post","ajaxurl","action","stripeToken","id","allData","params","ds_nonce","handleServerResponse","response","requires_source_action","action_type","handleCardPayment","payment_intent_client_secret","then","result","processResult","handleCardAction","displayFinalResult","paymentIntent","status","paymentIntentID","paymentIntentSucceeded","dsProcess","document","querySelector","success_input","error_input","classList","remove","add","html","message","location","assign","url","error","Stripe","p_key","elementName","formClass","form","errorMessage","resetButtonSuccess","resetButtonError","enableInputs","Array","prototype","forEach","call","querySelectorAll","input","removeAttribute","disableInputs","setAttribute","triggerBrowserValidation","submit","createElement","display","appendChild","click","savedErrors","element","idx","event","innerText","nextError","Object","keys","sort","reduce","maybeFoundError","key","plainInputsValid","checkValidity","name","email","phone","address1","city","state","zip","country","billingDetails","value","undefined","address","line1","postal_code","shName","shPhone","shAddress","shCity","shState","shZip","shCountry","shippingDetails","createPaymentMethod","billing_details","resultP","createToken","resultT","paymentMethod","dsStripeResetForm","reset","clear","val","hasClass","is","match","text","enterAmount","addClass","show","setTimeout","hide","instances","initInstance","$close","find","appendTo","bind","onclick","target"],"mappings":"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","file":"public.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/public.js\");\n","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","import './public/js/ds-click-action';\r\nimport './public/js/ds-element';\r\nimport './public/js/ds-handler';\r\nimport './public/js/ds-register-elements';\r\nimport './public/js/ds-utils';\r\n","/**\r\n * Created by nfigueira on 10/05/2017.\r\n */\r\n\r\n//Start process on button Click\r\njQuery( '.direct-stripe-button-id' ).on( 'click', function( e ) {\r\n\t//Get unique button ID\r\n\tvar instance = jQuery( this ).data( 'id' );\r\n\r\n\t//Check if instance number isset\r\n\tif ( instance.length <= 0 ) {\r\n\t\tconsole.log( 'DS instance button missing' );\r\n\t\treturn;\r\n\t}\r\n\r\n\t//Set amount value for donation buttons\r\n\tif ( jQuery( '.donationvalue' ).length > 0 ) {\r\n\t\tsetDonationValue( instance );\r\n\t}\r\n\t//Get Button Values\r\n\tvar ds_values = window[ instance ],\r\n\t\tds_script_vars = direct_stripe_script_vars;\r\n\r\n\t// Set currency\r\n\tif ( '' !== ds_values.currency ) {\r\n\t\tvar currency = ds_values.currency;\r\n\t} else {\r\n\t\tvar currency = ds_values.general_currency;\r\n\t}\r\n\t//Prepare values for Stripe\r\n\tvar billing = ds_values.billing === '1' || ds_values.billing === 'true',\r\n\t\tshipping = ds_values.shipping === '1' || ds_values.shipping === 'true',\r\n\t\trememberme =\r\n\t\t\tds_values.rememberme === '1' || ds_values.rememberme === 'true',\r\n\t\tnumbers = /^\\+?[0-9]*\\.?[0-9]+$/,\r\n\t\tds_answer_input = '#ds-pre-answer-' + instance;\r\n\r\n\t//Set amount\r\n\tif (\r\n\t\tds_values.display_amount !== '' &&\r\n\t\tds_values.type !== 'subscription' &&\r\n\t\tds_values.type !== 'donation'\r\n\t) {\r\n\t\tvar amount = parseInt( ds_values.original_amount );\r\n\t} else if (\r\n\t\tds_values.display_amount !== '' &&\r\n\t\tds_values.type === 'donation'\r\n\t) {\r\n\t\tif (\r\n\t\t\tds_values.zero_decimal === '1' ||\r\n\t\t\tds_values.zero_decimal === 'true'\r\n\t\t) {\r\n\t\t\tvar amount = parseInt( ds_values.original_amount );\r\n\t\t} else {\r\n\t\t\tvar amount = parseFloat( ds_values.original_amount * 100 );\r\n\t\t}\r\n\t} else {\r\n\t\tvar amount = 0;\r\n\t}\r\n\r\n\t//Check T&C have been checked\r\n\tvar tcState = checkTC( this, instance ),\r\n\t\tdonationInputState = checkDonationInput( this, ds_values, numbers );\r\n\tif ( tcState ) {\r\n\t\treturnError( ds_answer_input, ds_script_vars, 'emptyTc' );\r\n\t\treturn false;\r\n\t} else if ( donationInputState ) {\r\n\t\treturnError( ds_answer_input, ds_script_vars, 'emptyDonation' );\r\n\t\treturn false;\r\n\t}\r\n\r\n\tbuildElement( instance, ds_values, ds_script_vars );\r\n\t//Modal events\r\n\tds.modal.open( instance );\r\n\r\n\te.preventDefault();\r\n} );\r\n// Close Checkout on page navigation:\r\nwindow.addEventListener( 'popstate', function() {\r\n\thandler.close();\r\n} );\r\n","function buildElement( instance, ds_values, ds_script_vars ) {\r\n\t'use strict';\r\n\r\n\tvar elements = stripe.elements( {\r\n\t\t// Stripe's examples are localized to specific languages, but if\r\n\t\t// you wish to have Elements automatically detect your user's locale,\r\n\t\t// use `locale: 'auto'` instead.\r\n\t\tlocale: ds_values.locale,\r\n\t} );\r\n\r\n\t/**\r\n\t * Card Element\r\n\t */\r\n\tvar ce_styles = ds_script_vars.styles.card_element;\r\n\tvar card = elements.create( 'card', {\r\n\t\ticonStyle: 'solid',\r\n\t\tstyle: {\r\n\t\t\tbase: {\r\n\t\t\t\ticonColor: ce_styles.iconColor,\r\n\t\t\t\tcolor: ce_styles.color,\r\n\t\t\t\tfontWeight: ce_styles.fontWeight,\r\n\t\t\t\tfontFamily: ce_styles.fontFamily,\r\n\t\t\t\tfontSize: ce_styles.fontSize,\r\n\t\t\t\tfontSmoothing: 'antialiased',\r\n\t\t\t\t'::placeholder': {\r\n\t\t\t\t\tcolor: ce_styles.placeholderColor,\r\n\t\t\t\t},\r\n\t\t\t\t':-webkit-autofill': {\r\n\t\t\t\t\tcolor: ce_styles.webkitAutofillColor,\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tinvalid: {\r\n\t\t\t\ticonColor: ce_styles.invalidIconColor,\r\n\t\t\t\tcolor: ce_styles.invalidColor,\r\n\t\t\t},\r\n\t\t},\r\n\t} );\r\n\tcard.mount( '#ds-element-' + instance + '-card' );\r\n\r\n\tregisterElements( [ card ], 'ds-element-' + instance );\r\n}\r\n","/**\r\n * Created by nfigueira on 13/04/2017.\r\n * Rewritten 10/06/2019 for DS 2.2.0\r\n */\r\nfunction stripe_checkout( token, ds_values, additionalData, paymentMethodID ) {\r\n\tvar parobj = ds_values,\r\n\t\ttype = parobj[ 'type' ];\r\n\r\n\tif ( type === 'donation' ) {\r\n\t\tvar amount = setDonationValue( parobj.instance );\r\n\t} else {\r\n\t\tvar amount = parobj.amount;\r\n\t}\r\n\r\n\tjQuery.post(\r\n\t\tds_values.ajaxurl,\r\n\t\t{\r\n\t\t\taction: 'ds_process_button',\r\n\t\t\tstripeToken: token.id,\r\n\t\t\tpaymentMethodID: paymentMethodID,\r\n\t\t\tallData: additionalData,\r\n\t\t\ttype: type,\r\n\t\t\tamount: amount,\r\n\t\t\tparams: parobj,\r\n\t\t\tds_nonce: parobj.ds_nonce,\r\n\t\t},\r\n\t\tfunction( data ) {\r\n\t\t\thandleServerResponse( data, ds_values );\r\n\t\t}\r\n\t);\r\n}\r\n\r\nfunction handleServerResponse( response, ds_values ) {\r\n\tif ( response.requires_source_action ) {\r\n\t\tswitch ( response.action_type ) {\r\n\t\t\tcase 'incomplete':\r\n\t\t\t\tstripe\r\n\t\t\t\t\t.handleCardPayment( response.payment_intent_client_secret )\r\n\t\t\t\t\t.then( function( result ) {\r\n\t\t\t\t\t\tprocessResult( result, ds_values );\r\n\t\t\t\t\t} );\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'requires_source_action':\r\n\t\t\t\tstripe\r\n\t\t\t\t\t.handleCardAction( response.payment_intent_client_secret )\r\n\t\t\t\t\t.then( function( result ) {\r\n\t\t\t\t\t\tprocessResult( result, ds_values );\r\n\t\t\t\t\t} );\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tprocessResult( response, ds_values );\r\n\t\t}\r\n\t} else if (\r\n\t\ttypeof response === 'object' &&\r\n\t\ttypeof response.id !== 'undefined'\r\n\t) {\r\n\t\tdisplayFinalResult( response, ds_values );\r\n\t} else {\r\n\t\tprocessResult( response, ds_values );\r\n\t}\r\n}\r\n\r\nfunction processResult( result, ds_values ) {\r\n\tif ( typeof result.paymentIntent !== 'undefined' ) {\r\n\t\tif ( result.paymentIntent.status === 'requires_confirmation' ) {\r\n\t\t\tjQuery.post(\r\n\t\t\t\tds_values.ajaxurl,\r\n\t\t\t\t{\r\n\t\t\t\t\taction: 'ds_process_button',\r\n\t\t\t\t\tpaymentIntentID: result.paymentIntent.id,\r\n\t\t\t\t\tparams: ds_values,\r\n\t\t\t\t\tds_nonce: ds_values.ds_nonce,\r\n\t\t\t\t},\r\n\t\t\t\tfunction( data ) {\r\n\t\t\t\t\tdisplayFinalResult( data, ds_values );\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t} else if ( result.paymentIntent.status === 'succeeded' ) {\r\n\t\t\tjQuery.post(\r\n\t\t\t\tds_values.ajaxurl,\r\n\t\t\t\t{\r\n\t\t\t\t\taction: 'ds_process_button',\r\n\t\t\t\t\tpaymentIntentSucceeded: result.paymentIntent,\r\n\t\t\t\t\tparams: ds_values,\r\n\t\t\t\t\tds_nonce: ds_values.ds_nonce,\r\n\t\t\t\t},\r\n\t\t\t\tfunction( data ) {\r\n\t\t\t\t\tdisplayFinalResult( data, ds_values );\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t}\r\n\t} else {\r\n\t\tdisplayFinalResult( result, ds_values );\r\n\t}\r\n}\r\n\r\nfunction displayFinalResult( data, ds_values ) {\r\n\tvar dsProcess = document.querySelector(\r\n\t\t\t'.ds-element-' + ds_values.instance\r\n\t\t),\r\n\t\tsuccess_input = document.querySelector(\r\n\t\t\t'#ds-success-answer-' + ds_values.instance\r\n\t\t),\r\n\t\terror_input = document.querySelector(\r\n\t\t\t'#ds-error-answer-' + ds_values.instance\r\n\t\t);\r\n\r\n\tswitch ( data.id ) {\r\n\t\tcase '1':\r\n\t\t\tdsProcess.classList.remove( 'submitting' );\r\n\t\t\tdsProcess.classList.add( 'submitted' );\r\n\t\t\tjQuery( success_input ).html( data.message );\r\n\t\t\tbreak;\r\n\t\tcase '2':\r\n\t\t\tdsProcess.classList.remove( 'submitting' );\r\n\t\t\tdsProcess.classList.add( 'submitted' );\r\n\t\t\twindow.location.assign( data.url );\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\tdsProcess.classList.remove( 'submitting' );\r\n\t\t\tdsProcess.classList.add( 'error' );\r\n\t\t\tif ( typeof data.error !== 'undefined' ) {\r\n\t\t\t\tjQuery( error_input ).html( data.error.message );\r\n\t\t\t} else if ( typeof data.message !== 'undefined' ) {\r\n\t\t\t\tjQuery( error_input ).html( data.message );\r\n\t\t\t}\r\n\t}\r\n}\r\n","'use strict';\r\n\r\nvar stripe = Stripe( direct_stripe_script_vars.p_key );\r\n\r\nfunction registerElements( elements, elementName ) {\r\n\tvar formClass = '.' + elementName;\r\n\tvar dsProcess = document.querySelector( formClass );\r\n\r\n\tvar form = dsProcess.querySelector( 'form' );\r\n\r\n\tvar error = form.querySelector( '.error' );\r\n\tvar errorMessage = error.querySelector( '.message' );\r\n\r\n\t//Get unique button ID\r\n\tvar instance = jQuery( form ).data( 'id' );\r\n\t//Get Button Values\r\n\tvar ds_values = window[ instance ];\r\n\r\n\t//Reset trigger\r\n\tvar resetButtonSuccess = dsProcess.querySelector(\r\n\t\t'a.reset-success-' + instance\r\n\t);\r\n\tvar resetButtonError = dsProcess.querySelector(\r\n\t\t'a.reset-error-' + instance\r\n\t);\r\n\r\n\tfunction enableInputs() {\r\n\t\tArray.prototype.forEach.call(\r\n\t\t\tform.querySelectorAll(\r\n\t\t\t\t\"input[type='text'], input[type='email'], input[type='tel']\"\r\n\t\t\t),\r\n\t\t\tfunction( input ) {\r\n\t\t\t\tinput.removeAttribute( 'disabled' );\r\n\t\t\t}\r\n\t\t);\r\n\t}\r\n\r\n\tfunction disableInputs() {\r\n\t\tArray.prototype.forEach.call(\r\n\t\t\tform.querySelectorAll(\r\n\t\t\t\t\"input[type='text'], input[type='email'], input[type='tel']\"\r\n\t\t\t),\r\n\t\t\tfunction( input ) {\r\n\t\t\t\tinput.setAttribute( 'disabled', 'true' );\r\n\t\t\t}\r\n\t\t);\r\n\t}\r\n\r\n\tfunction triggerBrowserValidation() {\r\n\t\t// The only way to trigger HTML5 form validation UI is to fake a user submit\r\n\t\t// event.\r\n\t\tvar submit = document.createElement( 'input' );\r\n\t\tsubmit.type = 'submit';\r\n\t\tsubmit.style.display = 'none';\r\n\t\tform.appendChild( submit );\r\n\t\tsubmit.click();\r\n\t\tsubmit.remove();\r\n\t}\r\n\r\n\t// Listen for errors from each Element, and show error messages in the UI.\r\n\tvar savedErrors = {};\r\n\telements.forEach( function( element, idx ) {\r\n\t\telement.on( 'change', function( event ) {\r\n\t\t\tif ( event.error ) {\r\n\t\t\t\terror.classList.add( 'visible' );\r\n\t\t\t\tsavedErrors[ idx ] = event.error.message;\r\n\t\t\t\terrorMessage.innerText = event.error.message;\r\n\t\t\t} else {\r\n\t\t\t\tsavedErrors[ idx ] = null;\r\n\r\n\t\t\t\t// Loop over the saved errors and find the first one, if any.\r\n\t\t\t\tvar nextError = Object.keys( savedErrors )\r\n\t\t\t\t\t.sort()\r\n\t\t\t\t\t.reduce( function( maybeFoundError, key ) {\r\n\t\t\t\t\t\treturn maybeFoundError || savedErrors[ key ];\r\n\t\t\t\t\t}, null );\r\n\r\n\t\t\t\tif ( nextError ) {\r\n\t\t\t\t\t// Now that they've fixed the current error, show another one.\r\n\t\t\t\t\terrorMessage.innerText = nextError;\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// The user fixed the last error; no more errors.\r\n\t\t\t\t\terror.classList.remove( 'visible' );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} );\r\n\t} );\r\n\r\n\t// Listen on the form's 'submit' handler...\r\n\tform.addEventListener( 'submit', function( e ) {\r\n\t\te.preventDefault();\r\n\r\n\t\t// Trigger HTML5 validation UI on the form if any of the inputs fail\r\n\t\t// validation.\r\n\t\tvar plainInputsValid = true;\r\n\t\tArray.prototype.forEach.call(\r\n\t\t\tform.querySelectorAll( 'input' ),\r\n\t\t\tfunction( input ) {\r\n\t\t\t\tif ( input.checkValidity && ! input.checkValidity() ) {\r\n\t\t\t\t\tplainInputsValid = false;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t);\r\n\t\tif ( ! plainInputsValid ) {\r\n\t\t\ttriggerBrowserValidation();\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Show a loading screen...\r\n\t\tdsProcess.classList.add( 'submitting' );\r\n\r\n\t\t// Disable all inputs.\r\n\t\tdisableInputs();\r\n\r\n\t\t// Gather additional customer data we may have collected in our form.\r\n\t\tvar name = form.querySelector( '#' + elementName + '-name' );\r\n\t\tvar email = form.querySelector( '#' + elementName + '-email' );\r\n\t\tvar phone = form.querySelector( '#' + elementName + '-phone' );\r\n\t\tvar address1 = form.querySelector( '#' + elementName + '-address' );\r\n\t\tvar city = form.querySelector( '#' + elementName + '-city' );\r\n\t\tvar state = form.querySelector( '#' + elementName + '-state' );\r\n\t\tvar zip = form.querySelector( '#' + elementName + '-zip' );\r\n\t\tvar country = form.querySelector( '#' + elementName + '-country' );\r\n\t\tvar billingDetails = {\r\n\t\t\tname: name ? name.value : undefined,\r\n\t\t\temail: email ? email.value : undefined,\r\n\t\t\tphone: phone ? phone.value : undefined,\r\n\t\t\taddress: {\r\n\t\t\t\tline1: address1 ? address1.value : undefined,\r\n\t\t\t\tcity: city ? city.value : undefined,\r\n\t\t\t\tstate: state ? state.value : undefined,\r\n\t\t\t\tpostal_code: zip ? zip.value : undefined,\r\n\t\t\t\tcountry: country ? country.value : undefined,\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\t// Gather additional customer data we may have collected in our form.\r\n\t\tvar shName = form.querySelector( '#' + elementName + '-sh-name' );\r\n\t\tvar shPhone = form.querySelector( '#' + elementName + '-sh-phone' );\r\n\t\tvar shAddress = form.querySelector( '#' + elementName + '-sh-address' );\r\n\t\tvar shCity = form.querySelector( '#' + elementName + '-sh-city' );\r\n\t\tvar shState = form.querySelector( '#' + elementName + '-sh-state' );\r\n\t\tvar shZip = form.querySelector( '#' + elementName + '-sh-zip' );\r\n\t\tvar shCountry = form.querySelector( '#' + elementName + '-sh-country' );\r\n\t\tvar shippingDetails = {\r\n\t\t\tname: shName ? shName.value : undefined,\r\n\t\t\tphone: shPhone ? shPhone.value : undefined,\r\n\t\t\tline1: shAddress ? shAddress.value : undefined,\r\n\t\t\tcity: shCity ? shCity.value : undefined,\r\n\t\t\tstate: shState ? shState.value : undefined,\r\n\t\t\tpostal_code: shZip ? shZip.value : undefined,\r\n\t\t\tcountry: shCountry ? shCountry.value : undefined,\r\n\t\t};\r\n\t\tvar additionalData = {\r\n\t\t\tbillingDetails: billingDetails,\r\n\t\t\tshippingDetails: shippingDetails,\r\n\t\t};\r\n\r\n\t\t// Use Stripe.js to create a token. We only need to pass in one Element\r\n\t\t// from the Element group in order to create a token. We can also pass\r\n\t\t// in the additional customer data we collected in our form.\r\n\t\tstripe\r\n\t\t\t.createPaymentMethod( 'card', elements[ 0 ], {\r\n\t\t\t\tbilling_details: billingDetails,\r\n\t\t\t} )\r\n\t\t\t.then( function( resultP ) {\r\n\t\t\t\tif ( resultP.error ) {\r\n\t\t\t\t\tenableInputs();\r\n\t\t\t\t\t// Show error in payment form\r\n\t\t\t\t\tdisplayFinalResult( resultP, ds_values );\r\n\t\t\t\t} else {\r\n\t\t\t\t\tstripe\r\n\t\t\t\t\t\t.createToken( elements[ 0 ], {} )\r\n\t\t\t\t\t\t.then( function( resultT ) {\r\n\t\t\t\t\t\t\tif ( resultT.token ) {\r\n\t\t\t\t\t\t\t\tstripe_checkout(\r\n\t\t\t\t\t\t\t\t\tresultT.token,\r\n\t\t\t\t\t\t\t\t\tds_values,\r\n\t\t\t\t\t\t\t\t\tadditionalData,\r\n\t\t\t\t\t\t\t\t\tresultP.paymentMethod.id\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} );\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t} );\r\n\r\n\tresetButtonError.addEventListener( 'click', function( e ) {\r\n\t\te.preventDefault();\r\n\r\n\t\tdsStripeResetForm( form, elements, dsProcess, error );\r\n\t} );\r\n\r\n\tresetButtonSuccess.addEventListener( 'click', function( e ) {\r\n\t\te.preventDefault();\r\n\r\n\t\tdsStripeResetForm( form, elements, dsProcess, error );\r\n\t} );\r\n\r\n\tfunction dsStripeResetForm( form, elements, dsProcess, error ) {\r\n\t\t// Resetting the form (instead of setting the value to `''` for each input)\r\n\t\t// helps us clear webkit autofill styles.\r\n\t\tform.reset();\r\n\r\n\t\t// Clear each Element.\r\n\t\telements.forEach( function( element ) {\r\n\t\t\telement.clear();\r\n\t\t} );\r\n\r\n\t\t// Reset error state as well.\r\n\t\terror.classList.remove( 'visible' );\r\n\t\tdsProcess.classList.remove( 'error' );\r\n\r\n\t\t// Resetting the form does not un-disable inputs, so we need to do it separately:\r\n\t\tenableInputs();\r\n\t\tdsProcess.classList.remove( 'submitted' );\r\n\t}\r\n}\r\n","var ds = window.ds || {};\r\n\r\n//Set Values for donation buttons\r\nfunction setDonationValue( instance ) {\r\n\tvar ds_values = window[ instance ];\r\n\tds_values.original_amount = jQuery( '#donationvalue-' + instance ).val();\r\n\tjQuery( '.dsDonationValue-' + instance ).val( ds_values.original_amount );\r\n\tjQuery( '.ds-modal-button-' + instance + ' > .ds-modal-amount' ).html(\r\n\t\tds_values.original_amount\r\n\t);\r\n\treturn ds_values.original_amount;\r\n}\r\n\r\n//Check T&C checkbox not empty\r\nfunction checkTC( element, instance ) {\r\n\treturn (\r\n\t\tjQuery( element ).hasClass( 'ds-check-tc' ) &&\r\n\t\t! jQuery( '#ds-conditions-' + instance ).is( ':checked' )\r\n\t);\r\n}\r\n\r\n//Check Donation input\r\nfunction checkDonationInput( element, ds_values, numbers ) {\r\n\treturn (\r\n\t\tjQuery( element ).hasClass( 'ds-check-donation' ) &&\r\n\t\t! ds_values.original_amount &&\r\n\t\t! ds_values.original_amount.match( numbers )\r\n\t);\r\n}\r\n\r\n//Stop process\r\nfunction returnError( ds_answer_input, direct_stripe_script_vars, error ) {\r\n\tif ( error === 'emptyTc' ) {\r\n\t\ttext = direct_stripe_script_vars.text.checkTC;\r\n\t} else if ( error === 'emptyDonation' ) {\r\n\t\ttext = direct_stripe_script_vars.text.enterAmount;\r\n\t}\r\n\r\n\tjQuery( ds_answer_input ).html( text + '<br/>' );\r\n\tjQuery( ds_answer_input ).addClass( 'error' );\r\n\tjQuery( ds_answer_input ).show();\r\n\tsetTimeout( function() {\r\n\t\tjQuery( ds_answer_input ).hide();\r\n\t}, 10000 );\r\n}\r\n\r\n// Modal window\r\nds.modal = {\r\n\t// Stores the modal instances of the page\r\n\tinstances: [],\r\n\t/**\r\n\t * Initialize a modal instance\r\n\t *\r\n\t * @param string instance\r\n\t * @return the jQuery object\r\n\t */\r\n\tinitInstance: function( instance ) {\r\n\t\t// If the instance was already initialize, return it (avoid duplicating events)\r\n\t\tif ( this.instances[ instance ] ) return this.instances[ instance ];\r\n\r\n\t\t// Store the modal jQuery object\r\n\t\tthis.instances[ instance ] = jQuery( '#modal-' + instance );\r\n\r\n\t\t// Get the <span> element that closes the modal\r\n\t\tvar $close = this.instances[ instance ].find( '.ds-close' );\r\n\r\n\t\t// Move the modal to the document root to avoid inheriting styles from inner containers\r\n\t\tthis.instances[ instance ].appendTo( 'body' );\r\n\r\n\t\t// When the user clicks on <span> (x), close the modal\r\n\t\t$close.on(\r\n\t\t\t'click',\r\n\t\t\tfunction( e ) {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tthis.instances[ instance ].hide();\r\n\t\t\t}.bind( this )\r\n\t\t);\r\n\r\n\t\t// When the user clicks anywhere outside of the modal, close it\r\n\t\twindow.onclick = function( event ) {\r\n\t\t\tif ( event.target == this.instances[ instance ][ 0 ] ) {\r\n\t\t\t\tthis.instances[ instance ].hide();\r\n\t\t\t}\r\n\t\t}.bind( this );\r\n\r\n\t\treturn this.instances[ instance ];\r\n\t},\r\n\t/**\r\n\t * Open the modal\r\n\t *\r\n\t * @param {string} instance\r\n\t */\r\n\topen: function( instance ) {\r\n\t\tif ( ! ds.modal.instances[ instance ] )\r\n\t\t\tds.modal.initInstance( instance );\r\n\t\t// Open Modal Form\r\n\t\tds.modal.instances[ instance ].show();\r\n\t},\r\n\t/**\r\n\t * Close the modal\r\n\t *\r\n\t * @param {string} instance\r\n\t */\r\n\tclose: function( instance ) {\r\n\t\tif ( ! ds.modal.instances[ instance ] ) return;\r\n\t\t// Close Modal Form\r\n\t\tds.modal.instances[ instance ].hide();\r\n\t},\r\n};\r\n"],"sourceRoot":""}